<odoo>
  <data>
	 <!-- db.kios tree view -->
    <record id="db_kios_view_tree" model="ir.ui.view">
      <field name="name">db.kios.view.tree</field>
      <field name="model">db.kios</field>
      <field name="arch" type="xml">
        <tree>
          <!-- Add your fields here -->
          <field name="kios_id"/>
          <field name="name"/>
          <field name="kios_address"/>
		      <field name="city_name"/>
          <field name="kios_owner"/>
          <field name="kios_tlpn"/>
          <field name="kios_npwp"/>
          <field name="kios_namanpwp"/>
		      <field name="kios_emp"/>
          <field name="kios_supervisor"/>
        </tree>
      </field>
    </record>

    <!--DBKios Kanban View -->
    <record model="ir.ui.view" id="db_kios_view_kanban">
            <field name="name">db.kios.view.kanban</field>
            <field name="model">db.kios</field>
            <field name="arch" type="xml">
                <kanban class="o_db_kios_kanban">
                    <field name="kios_id"/>
                    <field name="name"/>
                    <field name="kios_address"/>
                    <field name="city_name"/>
                    <field name="kios_owner"/>
                    <field name="kios_tlpn"/>
                    <field name="kios_npwp"/>
                    <field name="kios_namanpwp"/>
                    <field name="kios_emp"/>
                    <field name="kios_supervisor"/>
                    <templates>
                        <t t-name="kanban-box">
                            <div class="oe_kanban_global_click o_kanban_record_has_image_fill o_res_partner_kanban">
                                <field name="image" widget='image' class="oe_avatar" options='{"preview_image": "image_medium", "size": [90, 90]}'/>
                                <div class="oe_kanban_details">
                                    <strong class="o_kanban_record_title oe_partner_heading"><field name="name"/></strong>
                                    <div class="o_kanban_tags_section oe_kanban_partner_categories"/>
                                    <ul>
                                        <li><field name="kios_id"/></li>
                                        <li><field name="kios_address"/></li>
                                        <li><field name="city_name"/></li>
                                        <li><field name="kios_tlpn"/></li>
                                        <li class="o_text_overflow"><field name="kios_tlpn"/></li>
                                    </ul>
                                    <div class="oe_kanban_partner_links"/>
                                </div>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>
      <record id="db_kios_action_google_map" model="ir.actions.act_window">
        <field name="name">Google Map</field>
        <field name="res_model">db.kios</field>
        <field name="view_mode">google_map</field>
        <field name="view_id" ref="db_kios_view_map"/>
        <field name="domain">[('id', '=', active_id)]</field>
    </record>
    <!-- db.kios form view -->
    <record id="db_kios_view_form" model="ir.ui.view">
      <field name="name">db.kios.view.form</field>
      <field name="model">db.kios</field>
      <field name="arch" type="xml">
        <form string="Kios">
          <sheet>
              <div class="oe_button_box" name="button_box">
                  <button name="toggle_active" type="object"
                          class="oe_stat_button" icon="fa-archive">
                      <field name="active" widget="boolean_button"
                          options='{"terminology": "archive"}'/>
                  </button>
                  <button name="toggle_active" position="before">
                    <button name="%(db_kios_action_google_map)d" 
                        type="action" 
                        class="oe_stat_button" 
                        icon="fa-map-marker" string="Google Map" 
                        attrs="{'invisible': ['|',('partner_latitude', '=', 0.0), ('partner_longitude', '=', 0.0)]}"/>
                </button>

                   
              </div>
              <field name="image" widget='image' class="oe_avatar" options='{"preview_image": "image_medium", "size": [90, 90]}'/>
              <div class="oe_title">
                  <h4>
                    <field name="kios_id" readonly="1"/>
                  </h4>
                  <h1>
                      <field name="name" required="1" default_focus="1" placeholder="Nama Kios" />
                  </h1>
              </div>
              <group>
                  <group>
                      <field name="kios_address" placeholder="eg: Street..." class="o_address_street"/>
                      <field name="kios_owner"/>
                      <field name="kios_tlpn" placeholder="eg: 085..." />
                      <field name="kios_npwp"/>
                      <field name="kios_namanpwp" />
                      <field name="kios_emp" />
                      <field name="kios_supervisor"/>
                  </group>
              </group>

              <notebook colspan="2">
                 <page name='kios_area' string="Area">
                      <group>
                        <field name="area_id" />
                        <field name="city_name"/>
                        <field name="district_prov_name"/>
                        <field name="province_name"/>
                    </group>
                  </page>
                   <page name='geo_location' string="Lokasi Kios">
                      <group>
                          <div>
                              <span class="oe_inline"> ( On  </span>
                              <field name="date_localization" nolabel="1" class="oe_inline"/>
                              <span> : Lat : </span>
                              <field name="partner_latitude" nolabel="1" class="oe_inline"/>
                              <span> ;  Long:  </span>
                              <field name="partner_longitude" nolabel="1" class="oe_inline"/>
                              <span>) </span>
                          </div>
                    </group>
                  </page>
              </notebook>
          </sheet>
          </form>
      </field>
    </record>
    
    <!--DBKios Kanban View -->
    <record model="ir.ui.view" id="db_kios_view_map">
      <field name="name">db.kios.view.map</field>
      <field name="model">db.kios</field>
      <field name="arch" type="xml">
      <map class="o_db_kios_map" library="geometry" string="Map" lat="partner_latitude" lng="partner_longitude" color="green">
        <field name="kios_id"/>
          <field name="name"/>
          <field name="kios_address"/>
          <field name="city_name"/>
          <field name="kios_owner"/>
          <field name="kios_tlpn"/>
          <field name="kios_npwp"/>
          <field name="kios_namanpwp"/>
          <field name="kios_emp"/>
          <field name="kios_supervisor"/>
          <field name="partner_latitude"/>
          <field name="partner_longitude"/>
          <templates>
            <t t-name="kanban-box">
              <div class="oe_kanban_global_click o_kanban_record_has_image_fill o_res_partner_kanban">
                <img class="o_kanban_image" alt="Logo" t-att-src='_s + "/base/static/img/company_image.png"'/>
                <div class="oe_kanban_details">
                  <strong class="o_kanban_record_title oe_partner_heading"><field name="name"/></strong>
                  <div class="o_kanban_tags_section oe_kanban_partner_categories"/>
                  <ul>
                    <li><field name="kios_id"/></li>
                    <li><field name="kios_address"/></li>
                    <li><field name="city_name"/></li>
                    <li><field name="kios_tlpn"/></li>
                    <li class="o_text_overflow"><field name="kios_tlpn"/></li>
                  </ul>
                  <div class="oe_kanban_partner_links"/>
                </div>
              </div>
            </t>
          </templates>
        </map>
      </field>
    </record>
   
    <!-- db.kios action window -->
    <record id="db_kios_action" model="ir.actions.act_window">
      <field name="name">Kios</field>
      <field name="type">ir.actions.act_window</field>
      <field name="res_model">db.kios</field>
      <field name="view_mode">tree,form</field>
      <field name="view_type">form</field>
      <field name="help" type="html">
        <p class="oe_view_nocontent_create">
          <!-- Add Text Here -->
          click create to add new item
        </p><p>
          <!-- More details about what a user can do with this object will be OK -->
        </p>
      </field>
    </record>
    
    <record id="action_db_kios_form_view1" model="ir.actions.act_window.view">
          <field eval="1" name="sequence"/>
          <field name="view_mode">kanban</field>
          <field name="view_id" ref="db_kios_view_kanban"/>
          <field name="act_window_id" ref="db_kios_action"/>
    </record>
    <record id="action_db_kios_form_view2" model="ir.actions.act_window.view">
        <field eval="2" name="sequence"/>
        <field name="view_mode">tree</field>
        <field name="view_id" ref="db_kios_view_tree"/>
        <field name="act_window_id" ref="db_kios_action"/>
    </record>
    
    <record id="action_db_kios_form_view3" model="ir.actions.act_window.view">
      <field eval="3" name="sequence"/>
      <field name="view_mode">map</field>
      <field name="view_id" ref="db_kios_view_map"/>
      <field name="act_window_id" ref="pg_marketing.db_kios_action"/>
    </record>

	<menuitem id="kios_menu_act" name="Kios" parent="db_marketing_menu_categ" action="db_kios_action" sequence="50"/>
	
  </data>
</odoo>
